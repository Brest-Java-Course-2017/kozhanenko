category.getCategoriesWithEventCount = SELECT category.category_id, category.category_name, COUNT (*) AS total_events \
  FROM time_period JOIN event ON (time_period.event_id = event.event_id) JOIN category ON (event.category_id = \
  category.category_id) WHERE time_period.end > ? AND time_period.beginning <= ? GROUP BY category.category_name
period.getAllTimePeriodsByEventId = SELECT * FROM time_period WHERE event_id = ?
period.getTimePeriodById = SELECT * FROM time_period WHERE time_period_id = :p_time_period_id
period.getAllTimePeriods = SELECT * FROM time_period
period.addTimePeriod = INSERT INTO time_period (event_id, beginning, end) \
  VALUES (:event_id, :beginning, :end)
period.addTimePeriodsAsBatch = INSERT INTO time_period (event_id, beginning, end) \
  VALUES (?, ?, ?)
period.updateTimePeriod = UPDATE time_period SET event_id = :event_id, beginning= :beginning, \
   end = :end WHERE time_period_id = :time_period_id
period.deleteTimePeriodById = DELETE FROM time_period WHERE time_period_id = :time_period_id
period.deleteTimePeriodsByEventId = DELETE FROM time_period WHERE event_id = :event_id
period.getAllTimePeriodsThatLastCertainTime = SELECT * FROM time_period WHERE (end >= ?) AND (beginning <= ?)
period.getAllTimePeriodsWithFullEventByEventId = SELECT event.*, time_period.time_period_id, time_period.beginning,\
   time_period.end FROM event LEFT JOIN time_period ON event.event_id = time_period.event_id WHERE event.event_id = ?
period.getTimePeriodsOfCategoryInInterval = SELECT event.*, time_period.* FROM time_period JOIN event \
  ON (time_period.event_id = event.event_id) JOIN category ON (event.category_id = category.category_id) \
  WHERE category.category_id = ? AND time_period.end > ? AND time_period.beginning <= ? ORDER BY time_period.end